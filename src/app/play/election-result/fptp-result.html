<span class="small">
    <p>
        @if (sidebar()) {
            <b>most votes win</b><br/>
        }
        @for (candidate of candidates(); track $index) {
            @if (sidebar()) {
                <img [src]="candidateDisplayService.getIconImage(candidate)" /> got {{results().tally.get(candidate)}} votes<br/>
            } @else {
                {{candidate.shape}}: {{results().tally.get(candidate)}}
                @if (verbose()) {
                    <!-- the lines are collapsed to avoid a space before the comma -->
                    votes} @if ($index < candidates().length-1) {,
                }
            }
        }
    </p>

    @if (sidebar()) {
        <p><img [src]="candidateDisplayService.getIconImage(results().winner)" /> has the most votes, so...</p>
    }
</span>

<p><b [style.color]="candidateDisplayService.getColor(results().winner)">{{results().winner.shape.toUpperCase()}}</b> WINS</p>
